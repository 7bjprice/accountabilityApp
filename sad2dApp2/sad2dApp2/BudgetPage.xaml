<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="sad2dApp2.BudgetPage"
             Title="Budget">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Header -->
            <Label Text="My Budget"
                   FontSize="32"
                   FontAttributes="Bold"
                   HorizontalOptions="Center" />

            <!-- Budget Summary Card -->
            <Border Stroke="LightGray"
                StrokeThickness="1"
                Background="LightGreen"
                Padding="20"
                Margin="10"
                StrokeShape="RoundRectangle 12">
                <Border.Shadow>
                    <Shadow Brush="Black"
                    Offset="5,5"
                    Radius="10"
                    Opacity="0.3" />
                </Border.Shadow>
                <VerticalStackLayout>
                    <Label Text="Total Budget"
                       FontSize="18"
                       TextColor="White" />
                    <Label  x:Name="TotalBudgetLabel"
                            Text="No Budget Set"
                            FontSize="28"
                            FontAttributes="Bold"
                            TextColor="White" />
                </VerticalStackLayout>
            </Border>

            <!-- Set Overall Budget Button -->
            <Button x:Name="SetBudgetBtn"
                    Text="Set Overall Budget"
                    BackgroundColor="#4CAF50"
                    TextColor="White"
                    CornerRadius="10"
                    HeightRequest="40"
                    Clicked="OnSetBudgetClicked"
                    Margin="0,0,0,10"/>

            <!-- Budget Categories -->
            <CollectionView x:Name="BudgetList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Stroke="#DDDDDD"
                            StrokeThickness="1"
                            Background="#F5F5F5"
                            Padding="15"
                            Margin="5"
                            StrokeShape="RoundRectangle 10">
                            <Border.Shadow>
                                <Shadow Brush="Black"
                                Offset="2,2"
                                Radius="6"
                                Opacity="0.2" />
                            </Border.Shadow>

                            <!-- Use Grid for layout -->
                            <Grid ColumnDefinitions="*,Auto">
                                <Label Text="{Binding Category}"
                                   FontSize="18"
                                   VerticalOptions="Center"
                                   Grid.Column="0" 
                                   TextColor="Black"/>

                                <Label Text="{Binding Amount, StringFormat='${0:F2}'}"
                               FontSize="18"
                               FontAttributes="Bold"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="End"
                               Grid.Column="1" 
                               TextColor="Black"/>
                                
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Add Budget Item Button -->
            <Button Text="Add Budget Item"
                    BackgroundColor="#2196F3"
                    TextColor="White"
                    CornerRadius="10"
                    HeightRequest="50"
                    Clicked="OnAddBudgetItemClicked" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>